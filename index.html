<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Servidor?</title>
    <!--<script scr="./Servidor.js"></script>-->
</head>
<body>
    <script>
        let d = new Date();
        document.body.innerHTML = "<h3>Time right now is:  " + d.getHours() + ":" + d.getMinutes() + ":" + d.getSeconds()
        "</h3>"
    </script>
    <!--<input type="text" name="ingre1" id="ingre1" />
    <input type="text" name="ingre2" id="ingre2" />
    <p>-------------------------</p>
    <div>
        <button name="boton1" id="boton1" onclick="lafuncion1()">Ingreso1</button>
        <button name="boton2" id="boton2" onclick="lafuncion2()">Ingreso2</button>
    </div>
    <form  id="formElem">
        <input type="text" id="nombre" name="name" value="John">
        <input type="text" id="apellido" name="surname" value="Smith">
        <input type="submit" value="boton3" id="boton3">
    </form>-->
    <!--<script>
        //let formulario = document.getElementById('formElem');
        //formulario.addEventListener('submit', e => {
          //  e.preventDefault();
         //   let datos = new FormData(formulario);
         //   let peticion = {
         //       method: 'POST',
         //       body: datos,
         //   }
          //  fetch('recibir/recibir-datos.php', peticion)
          //      .then(respuesta => respuesta.json())
          //      .then(respuesta => {
          //      }).catch(error => console.log('error', error));
       // });
    </script>-->
    <!--<script>
        const formul = document.getElementById('formElem');
        //console.log(formul)
        formul.addEventListener('submit', (e) => {
            /*e.preventDefault();*/
            let nombre = document.getElementById('nombre').value;
            let apellido = document.getElementById('apellido').value;
            console.log(nombre, apellido)
        })
    </script>-->
    <!--<script>
        formElem.onsubmit = async (e) => {
            e.preventDefault();

            let response = await fetch('http://localhost:3000/public/recibir/', {
                method: 'POST',
                body: new FormData(formElem)
            });

            let result = await response.json();

            alert(result.message);
        };
    </script>-->
    <!--<div class="row p-5 h-100" id="contentWrap">

      <div class="col-md-8">
        <div class="card bg-dark text-white rounded-0">-->
          <!-- CARD HEADER-->
          <!--<div class="card-header bg-primary text-white">
            <h4>Let's Chat</h4>
          </div>-->

          <!-- CARD BODY-->
          <!--<div id="chat" class="card-body chat"></div>-->

          <!-- CARD FOOTER -->
          <!--<form id="message-form" class="card-footer">
            <div class="input-group">
              <input type="text" id="message" class="form-control" />
                <button class="btn btn-warning rounded-0">
                  <i class="fas fa-location-arrow"></i> Send
                </button>
            </div>
          </form>
        </div>
      </div>
    </div>-->
    <!--<script>
        function lafuncion1() {
            document.getElementById("apellido").value = "ver";
            //const boton1 = document.querySelector("boton1");
            //const dato1 = document.querySelector('ingre1');
            //let texto1;

            //dato1.addEventListener("change", (e) => {
            //    boton1.click();
            //})
        }
    </script>
    <script>
        function lafuncion2() {
            const socket = io.connect();
            const $messageForm = getElementById("message-form");
            const $messageBox = getElementById("message");
            const $chat = getElementById("chat");
        }
    </script>-->
    <ul class="list-group"></ul>
    <form action="" >
        <input type="text" class="form-control" placeholder="Ingrese el mensaje" />
        <button type="submit" class="btn-primary">Enviar</button>
    </form>
    <script src="/socket.io/socket.io.js"> </script>
    <script>
        let socket = io();
        const form = document.querySelector('form');
        const input = document.querySelector('input');
        let mensajes = document.querySelector('ul');
        form.addEventListener('submit', (e) => {
            e.preventDefault()
            if (input.value) {
                socket.emit('chat', input.value)
                input.value = ''
            }
        });
        socket.on('chat', (msg) => {
            let item = document.createElement('li');
            item.textContent = msg;
            mensajes.appendChild(item);
            window.scrollTo(0, document.body.scrollHeight)
        });
    </script>
    <!--<script src="index.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
            crossorigin="anonymous">
    </script>-->
</body>
</html>